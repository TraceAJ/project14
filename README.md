运行环境：

安装gmssl库即可在pycharm中运行。

实现方式：

首先，我们定义了一些椭圆曲线参数和初始点G，用于生成密钥对。其中，p是有限域上的素数，a、b是椭圆曲线的系数，n是生成点G的阶数，x、y是初始点G的坐标。

epoint_mod函数用于计算一个数在模p下的值。

epoint_modmult函数实现了模p下的乘法运算。

epoint_add函数用于计算椭圆曲线上两点的相加结果。

epoint_mult函数实现了将椭圆曲线上的点与一个整数进行倍乘运算。

keygen函数用于生成密钥对。随机选择一个私钥d，并通过倍乘运算得到公钥k。

pgp_enc函数用于对明文进行加密。首先，根据SM4算法的要求，将明文按照16字节分组，不足16字节的部分进行填充。然后，使用给定的密钥k对每个分组进行SM4加密。接下来，使用SM2算法对密钥k进行加密得到c2。

pgp_dec函数用于对密文进行解密。首先，使用SM2算法对c2进行解密得到密钥k。然后，使用得到的密钥k对每个分组进行SM4解密，得到明文。

在主函数中，首先生成了一个随机的明文m和密钥k。然后调用pgp_enc函数对明文m进行加密得到密文r1和r2。随后，调用pgp_dec函数对密文r1和r2进行解密得到解密后的密钥dec_key和明文dec_msg。

最后，将解密后的密钥和明文输出到控制台。

运行结果：

<img width="416" alt="image" src="https://github.com/TraceAJ/project14/assets/110471272/6451d830-bfa6-4946-b3b3-3f9a5dc47ef6">
